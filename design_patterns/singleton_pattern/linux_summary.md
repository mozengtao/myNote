## 核心总结

### 单例模式核心要点（C 语言 / 内核视角）
    特性		实现方式							内核适配优化
    实例唯一性	static全局变量 / 结构体				内核全局数据段（.data/.bss）
    初始化安全	互斥锁（用户态）/ 自旋锁（内核态）		自旋锁（无调度，更高效）
    初始化方式	懒加载 / 饿汉式						优先饿汉式（内核启动时初始化）
    全局访问	唯一接口函数（get_instance()）		static inline函数（内联优化）

### 内核单例模式的核心价值
    资源安全：避免全局资源（PID、中断、系统调用表）重复初始化 / 分配；
    性能优化：饿汉式初始化避免运行时锁开销，单例复用减少内存 / 硬件操作；
    一致性：全局唯一实例保证所有模块访问的是同一资源，避免数据不一致；
    封装性：隐藏内部实现，仅通过接口操作，降低模块耦合。

### 关键认知
    Linux 内核中的单例模式不是语法层面的照搬，而是思想层面的落地：
    无 “类” 的概念，用static全局变量替代 “类的静态实例”；
    无 “构造函数”，用inline接口函数封装初始化逻辑；
    多核安全是内核单例的核心要求，必须通过自旋锁 / 原子操作保护初始化过程。